{"version":3,"file":"menu.js","sources":["../node_modules/classnames/index.js","../src/components/menu/Menu.js"],"sourcesContent":["/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * Menu Component\n * @author heifade\n */\nimport React, { PureComponent } from 'react';\nimport RcMenu, { Item, SubMenu, ItemGroup } from 'rc-menu';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport styles from './Menu.css';\n\nclass Menu extends PureComponent {\n  static SubMenu = SubMenu;\n  static Item = Item;\n  static ItemGroup = ItemGroup;\n\n  static displayName = 'Menu'\n\n  static defaultProps = {\n    // className: '',\n    type: 'inline',\n    colorType: 'warm',\n    // selectedKeys: [],\n    // defaultOpenKeys: [],\n    // openKeys: undefined,\n    onClick: null,\n    // onOpenChange: function() {},\n  }\n\n  // https://facebook.github.io/react/docs/typechecking-with-proptypes.html\n  static propTypes = {\n    // className: PropTypes.string,\n    type: PropTypes.oneOf([\n      'horizontal-h', // 水平菜单，子菜单水平\n      'horizontal-v', // 水平菜单，子菜单垂直\n      'vertical-h', // 垂直菜单，子菜单水平向右弹出\n      'vertical-v', // 垂直菜单，子菜单内嵌在菜单区域\n    ]),\n    colorType: PropTypes.oneOf(['warm', 'cold']),\n    selectedKeys: PropTypes.arrayOf(PropTypes.string),\n    defaultOpenKeys: PropTypes.arrayOf(PropTypes.string),\n    openKeys: PropTypes.arrayOf(PropTypes.string),\n    onClick: PropTypes.func,\n    onOpenChange: PropTypes.func,\n  }\n\n  constructor(props) {\n    super(props);\n\n    let openKeys = null;\n    if (props.defaultOpenKeys) {\n      openKeys = props.defaultOpenKeys;\n    } else if (props.openKeys) {\n      openKeys = props.openKeys;\n    }\n    this.state = {\n      openKeys: openKeys || [],\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    // if (this.props.type === 'vertical-v' && nextProps.type !== 'vertical-v') {\n    //   this.switchModeFromInline = true;\n    // }\n    if ('openKeys' in nextProps) {\n      this.setState({ openKeys: nextProps.openKeys });\n    }\n  }\n\n  setOpenKeys(openKeys) {\n    if (!('openKeys' in this.props)) {\n      this.setState({ openKeys });\n    }\n  }\n  handleOpenChange = (openKeys) => {\n    this.setOpenKeys(openKeys);\n    const { onOpenChange } = this.props;\n    if (onOpenChange) {\n      onOpenChange(openKeys);\n    }\n  }\n  handleClick = (e) => {\n    if (!('selectedKeys' in this.props)) {\n      this.setState({ selectedKeys: [e.key] });\n    }\n\n    this.setOpenKeys([]);\n    const { onClick } = this.props;\n    if (onClick) {\n      onClick(e);\n    }\n  }\n\n  render() {\n    let props = {};\n    // const className = `${this.props.className}`;\n    let mode = '';\n    switch (this.props.type) {\n      case 'horizontal-h':\n        mode = 'horizontal-h';\n        break;\n      case 'horizontal-v':\n        mode = 'horizontal';\n        break;\n      case 'vertical-h':\n        mode = 'vertical';\n        break;\n      case 'vertical-v':\n      default:\n        mode = 'inline';\n        break;\n    }\n\n    if (mode === 'inline') { // 垂直菜单，子菜单内嵌在菜单区域。\n      props = {\n        openKeys: this.state.openKeys,\n        onClick: this.handleClick,\n        onOpenChange: this.handleOpenChange,\n        mode,\n      };\n    } else {\n      props = {\n        openKeys: this.state.openKeys,\n        onClick: this.handleClick,\n        onOpenChange: this.handleOpenChange,\n        mode,\n      };\n    }\n    props.className = classnames(`color-${this.props.colorType}`, styles.menu);\n    props.prefixCls = 'menu';\n    props.inlineIndent = 18;\n\n    return (\n      <RcMenu {...this.props} {...props} />\n    );\n  }\n}\n\nexport default Menu;\n"],"names":["define","Menu","props","openKeys","defaultOpenKeys","state","nextProps","setState","mode","type","handleClick","handleOpenChange","className","classnames","colorType","styles","menu","prefixCls","inlineIndent","React","RcMenu","PureComponent","SubMenu","Item","ItemGroup","displayName","defaultProps","propTypes","PropTypes","oneOf","arrayOf","string","func","setOpenKeys","onOpenChange","e","selectedKeys","key","onClick"],"mappings":"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"}