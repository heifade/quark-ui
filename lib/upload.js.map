{"version":3,"file":"upload.js","sources":["../node_modules/object-assign/index.js","../node_modules/classnames/index.js","../src/components/upload/utils.js","../src/components/icon/icons/index.js","../src/components/icon/Icon.js","../src/components/progress/propDefine.js","../src/components/progress/Line.js","../src/components/progress/Progress.js","../src/components/upload/UploadList.js","../src/components/upload/Upload.js"],"sourcesContent":["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// Fix IE file.status problem\n// via coping a new Object\nexport function fileToObject(file) {\n  return {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.filename || file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    response: file.response,\n    error: file.error,\n    percent: 0,\n    originFileObj: file,\n    status: null,\n  };\n}\n\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\nexport function genPercentAdd() {\n  let k = 0.1;\n  const i = 0.01;\n  const end = 0.98;\n  return function f(s) {\n    let start = s;\n    if (start >= end) {\n      return start;\n    }\n\n    start += k;\n    k -= i;\n    if (k < 0.001) {\n      k = 0.001;\n    }\n    return start * 100;\n  };\n}\n\nexport function getFileItem(file, fileList) {\n  const matchKey = file.uid ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\n\nexport function removeFileItem(file, fileList) {\n  const matchKey = file.uid ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n","import React from 'react';\nimport account from './account.svg';\nimport arrowDown from './arrow-down.svg';\nimport arrowLeft from './arrow-left.svg';\nimport arrowRight from './arrow-right.svg';\nimport arrowUp from './arrow-up.svg';\nimport attachment from './attachment.svg';\nimport car from './car.svg';\nimport caution from './caution.svg';\nimport check from './check.svg';\nimport clock from './clock.svg';\nimport close from './close.svg';\nimport code from './code.svg';\nimport copy from './copy.svg';\nimport customise from './customise.svg';\nimport doubleArrowLeft from './double-arrow-left.svg';\nimport doubleArrowRight from './double-arrow-right.svg';\nimport ellipsis from './ellipsis.svg';\nimport error from './error.svg';\nimport fail from './fail.svg';\nimport finance from './finance.svg';\nimport home from './home.svg';\nimport info from './info.svg';\nimport local from './local.svg';\nimport paper from './paper.svg';\nimport plus from './plus.svg';\nimport question from './question.svg';\nimport question2 from './question2.svg';\nimport react from './react.svg';\nimport recycle from './recycle.svg';\nimport search from './search.svg';\nimport setting from './setting.svg';\nimport success from './success.svg';\nimport theme from './theme.svg';\nimport triangleDown from './triangle-down.svg';\nimport triangleUp from './triangle-up.svg';\nimport upload from './upload.svg';\nimport visible from './visible.svg';\nimport warning from './warning.svg';\n\nconst ICONS = {\n  account,\n  'arrow-down': arrowDown,\n  'arrow-left': arrowLeft,\n  'arrow-right': arrowRight,\n  'arrow-up': arrowUp,\n  attachment,\n  car,\n  caution,\n  check,\n  clock,\n  close,\n  code,\n  copy,\n  customise,\n  'double-arrow-left': doubleArrowLeft,\n  'double-arrow-right': doubleArrowRight,\n  ellipsis,\n  error,\n  fail,\n  finance,\n  home,\n  info,\n  local,\n  paper,\n  plus,\n  question,\n  question2,\n  react,\n  recycle,\n  search,\n  setting,\n  success,\n  theme,\n  'triangle-down': triangleDown,\n  'triangle-up': triangleUp,\n  upload,\n  visible,\n  warning,\n};\n\nexport default ICONS;\n","/**\n * Icon Component\n * @author ryan.bian\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport styles from './Icon.css';\n\nimport ICONS from './icons';\n\nclass Icon extends PureComponent {\n\n  static displayName = 'Icon'\n\n  static defaultProps = {\n    name: '',\n    size: 32,\n    color: null,\n  }\n\n  // https://facebook.github.io/react/docs/typechecking-with-proptypes.html\n  static propTypes = {\n    name: PropTypes.string,\n    size: PropTypes.number,\n    color: PropTypes.string,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { name, size, color, className, ...otherProps } = this.props;\n    const svgProps = {\n      style: {\n        fontSize: size,\n        fill: color,\n      },\n      className: classnames(className, styles.Icon),\n      'aria-hidden': true,\n      ...otherProps,\n    };\n    const IconNode = ICONS[name];\n    return <IconNode {...svgProps} />;\n  }\n}\n\nexport default Icon;\n","import PropTypes from 'prop-types';\n\nexport const defaultProps = {\n  percent: 0,\n  status: 'normal',\n  size: 'normal',\n  showInfo: true,\n};\n\nexport const propTypes = {\n  percent: PropTypes.number,\n  status: PropTypes.oneOf([\n    'normal',\n    'exception',\n    'pause',\n    'success',\n  ]),\n  size: PropTypes.oneOf([\n    'normal',\n    'mini',\n  ]),\n  showInfo: PropTypes.bool,\n};\n","/**\n * Line Component\n * @author ryan.bian\n */\nimport React from 'react';\nimport classnames from 'classnames';\nimport { defaultProps, propTypes } from './propDefine';\nimport Icon from '../icon';\nimport styles from './Progress.css';\n\nconst Line = ({ percent, status, size, showInfo }) => {\n  const lineProps = {\n    className: classnames(\n      styles[`progress__${showInfo ? 'showinfo' : 'line'}`],\n      styles[`progress__line--${size}Size`],\n      styles[`progress__line--${status}`],\n    ),\n  };\n  const innerProps = {\n    className: styles['progress__lineInner'],\n    style: {\n      width: `${percent}%`,\n    },\n  };\n  let indicator;\n  if (showInfo) {\n    switch (status) {\n      case 'success':\n        indicator = <Icon name=\"success\" size={14} />;\n        break;\n      case 'exception':\n        indicator = <Icon name=\"error\" size={14} />;\n        break;\n      case 'pause':\n        indicator = <Icon name=\"clock\" size={14} />;\n        break;\n      default:\n        indicator = `${percent}%`;\n        break;\n    }\n  }\n  return (\n    <div {...lineProps}>\n      <div className={styles.progress__lineOuter}>\n        <div {...innerProps} />\n      </div>\n      {\n        showInfo ?\n          <span className={styles.progress__lineIndicator}>\n            {indicator}\n          </span>\n          : null\n      }\n    </div>\n  );\n};\n\nLine.defaultProps = defaultProps;\n\nLine.propTypes = propTypes;\n\nexport default Line;\n","/**\n * Progress Component\n * @author heifade\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { defaultProps, propTypes } from './propDefine';\nimport styles from './Progress.css';\n\nimport Line from './Line';\n// import Circle from './Circle';\n\nclass Progress extends PureComponent {\n\n  static displayName = 'Progress'\n\n  static defaultProps = {\n    ...defaultProps,\n    // type: 'line',\n  }\n\n  // https://facebook.github.io/react/docs/typechecking-with-proptypes.html\n  static propTypes = {\n    ...propTypes,\n    // type: PropTypes.oneOf([\n    //   'line',\n    //   'circle',\n    // ]),\n  }\n\n  render() {\n    const { ...renderProps } = this.props;\n    // let Comp;\n    // if (type === 'circle') {\n    //   Comp = Circle;\n    // } else {\n    //   Comp = Line;\n    // }\n    return <Line {...renderProps} />;\n  }\n}\n\nexport default Progress;\n","/**\n * UploadList Component\n * @author heifade\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n// import Animate from 'rc-animate';\nimport Icon from '../icon/Icon';\n// import Tooltip from '../tooltip';\nimport Progress from '../progress/Progress';\n// import { UploadListProps } from './interface';\nimport styles from './Upload.css';\n\nconst previewFile = (file, callback) => {\n  const reader = new FileReader();\n  reader.onloadend = () => callback(reader.result);\n  reader.readAsDataURL(file);\n};\n\nexport default class UploadList extends React.Component {\n  static displayName = 'UploadList'\n\n  static defaultProps = {\n    listType: 'text', // or picture-card\n    items: [],\n    onRemove: null,\n    onPreview: null,\n    prefixCls: 'upload',\n    showRemoveIcon: true,\n    showPreviewIcon: true,\n    disabled: false,\n    progressAttr: {\n      strokeWidth: 2,\n      showInfo: false,\n      size: 'mini',\n    },\n    locale: { },\n  }\n\n  // https://facebook.github.io/react/docs/typechecking-with-proptypes.html\n  static propTypes = {\n    listType: PropTypes.oneOf('text', 'picture-card'),\n    items: PropTypes.arrayOf(PropTypes.object),\n    onRemove: PropTypes.func,\n    onPreview: PropTypes.func,\n    prefixCls: PropTypes.string,\n    showPreviewIcon: PropTypes.bool,\n    showRemoveIcon: PropTypes.bool,\n    disabled: PropTypes.bool,\n    progressAttr: PropTypes.shape({\n      strokeWidth: PropTypes.number,\n      showInfo: PropTypes.bool,\n      size: PropTypes.string,\n    }),\n    locale: PropTypes.object,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n  }\n\n  componentDidUpdate() {\n    if (this.props.listType !== 'picture' && this.props.listType !== 'picture-card') {\n      return;\n    }\n    (this.props.items || []).forEach((file) => {\n      if (typeof document === 'undefined' ||\n        typeof window === 'undefined' ||\n        !window.FileReader || !window.File ||\n        !(file.originFileObj instanceof File) ||\n        file.thumbUrl !== undefined) {\n        return;\n      }\n      /*eslint-disable */\n      file.thumbUrl = '';\n      /*eslint-enable */\n      previewFile(file.originFileObj, (previewDataUrl) => {\n        /*eslint-disable */\n        file.thumbUrl = previewDataUrl;\n        /*eslint-enable */\n        this.forceUpdate();\n      });\n    });\n  }\n\n  // 删除\n  handleClose = (file) => {\n    const onRemove = this.props.onRemove;\n    if (onRemove) {\n      onRemove(file);\n    }\n  }\n\n  handlePreview = (file, e) => {\n    const { onPreview } = this.props;\n    if (!onPreview) {\n      return;\n    }\n    e.preventDefault();\n    onPreview(file);\n  }\n\n  renderListItem(file) {\n    const {\n      showPreviewIcon,\n      showRemoveIcon,\n      locale,\n      disabled,\n      listType,\n      prefixCls,\n    } = this.props;\n    let progress;\n    let icon = <Icon size={12} className={styles.status} name={file.status === 'uploading' ? 'attachment' : 'attachment'} />;\n\n    if (listType === 'picture' || listType === 'picture-card') {\n      if (file.status === 'uploading' || (!file.thumbUrl && !file.url)) {\n        if (listType === 'picture-card') {\n          icon = <div className={styles['uploading-text']}>{locale.uploading}</div>;\n        } else {\n          icon = <Icon className={`${prefixCls}-list-item-thumbnail`} type=\"picture\" />;\n        }\n      } else {\n        icon = (\n          <a\n            className={styles[`${prefixCls}-list-item-thumbnail`]}\n            onClick={e => this.handlePreview(file, e)}\n            href={file.url || file.thumbUrl}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            {/* <img src={file.thumbUrl || file.url} alt={file.name} styleName=\"imgshow\" /> */}\n            <div className={styles.imgshow} style={{ backgroundImage: `url(${file.thumbUrl || file.url})` }} />\n          </a>\n        );\n      }\n    }\n\n    if (file.status === 'uploading') {\n      // show loading icon if upload progress listener is disabled\n      const loadingProgress = ('percent' in file) ? (\n        <Progress type=\"line\" {...this.props.progressAttr} percent={file.percent} />\n      ) : null;\n\n      progress = (\n        <div className={styles[`${prefixCls}-list-item-progress`]} key=\"progress\">\n          {loadingProgress}\n        </div>\n      );\n    }\n    // const message = file.response || (file.error && file.error.statusText) || locale.uploadError;\n    const message = file.status === 'error' ? file.response || locale.uploadError : file.response;\n\n    // console.log(file);\n\n    const preview = file.url ? (\n      <a\n        href={file.url}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        className={styles[`${prefixCls}-list-item-name`]}\n        onClick={e => this.handlePreview(file, e)}\n        // title={file.name}\n        title={message}\n      >\n        {file.name}\n      </a>\n    ) : (\n      <span\n        className={styles[`${prefixCls}-list-item-name`]}\n        // title={file.name}\n        title={message}\n      >\n        {file.name}\n      </span>\n    );\n    const style = (file.url || file.thumbUrl) ? undefined : {\n      pointerEvents: 'none',\n      opacity: 0.5,\n    };\n    const previewIcon = showPreviewIcon ? (\n      <a\n        href={file.url || file.thumbUrl}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n        style={style}\n        onClick={e => this.handlePreview(file, e)}\n        title={locale.previewFile}\n      >\n        <Icon name=\"visible\" size={20} className={styles.eye} />\n      </a>\n    ) : null;\n    // picture-card 删除按钮\n    const removeIcon = showRemoveIcon && !disabled ? (\n      <button\n        className={styles['btn-remove']}\n        title={locale.removeFile}\n        onClick={() => this.handleClose(file)}\n      >\n        <Icon name=\"recycle\" size={20} className={styles.remove} />\n      </button>\n    ) : null;\n    // text 删除按钮\n    const removeIconCross = showRemoveIcon && !disabled ? (\n      <button\n        className={styles['btn-remove']}\n        title={locale.removeFile}\n        onClick={() => this.handleClose(file)}\n      >\n        <Icon name=\"close\" size={10} className={styles.remove} />\n      </button>\n    ) : null;\n    const actions = (listType === 'picture-card' && file.status !== 'uploading')\n      ? <span className={styles[`${prefixCls}-list-item-actions`]}>{previewIcon}{removeIcon}</span>\n      : removeIconCross;\n\n    const iconAndPreview = (file.status === 'error')\n      ? <span>{icon}{preview}</span>\n      : <span>{icon}{preview}</span>;\n\n    return (\n      <div\n        className={classnames(styles[`${prefixCls}-list-item`], styles[`${prefixCls}-list-item-${file.status}`])}\n        key={file.uid}\n      >\n        <div className={styles[`${prefixCls}-list-item-info`]}>\n          {iconAndPreview}\n        </div>\n        {actions}\n        {progress}\n      </div>\n    );\n  }\n\n  render() {\n    const {\n      prefixCls,\n      items = [],\n      listType,\n    } = this.props;\n\n    return (\n      <div\n        className={classnames(styles[`${prefixCls}-list`], styles[`${prefixCls}-list-${listType}`])}\n      >\n        { items.map(file => this.renderListItem(file)) }\n      </div>\n    );\n  }\n}\n","/**\n * Upload Component\n * @author heifade\n */\nimport assign from 'object-assign';\nimport React from 'react';\nimport RcUpload from 'rc-upload';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { fileToObject, genPercentAdd, getFileItem, removeFileItem } from './utils';\n// import Dragger from './Dragger';\nimport UploadList from './UploadList';\n// import { UploadProps, UploadLocale } from './interface';\nimport styles from './Upload.css';\n\nconst defaultLocale = {\n  uploading: '上传中...',\n  uploadError: '上传失败',\n  removeFile: '删除文件',\n  previewFile: '预览文件',\n};\n\nclass Upload extends React.Component {\n  static displayName = 'Upload'\n\n  static defaultProps = {\n    name: 'file',\n    defaultFileList: null,\n    action: '',\n    data: {},\n    headers: null,\n    showUploadList: true,\n    multiple: false,\n    accept: '',\n    beforeUpload: null,\n    customRequest: null,\n    onChange: null,\n    listType: 'text', // or picture-card\n    onPreview: null,\n    onRemove: null,\n    disabled: false,\n    withCredentials: false,\n\n    prefixCls: 'upload',\n    // type: 'select',\n    className: '',\n    // supportServerRender: false,\n    onResponse: (response) => {\n      if (response.result === 'success') {\n        return {\n          success: true,\n          message: '上传成功',\n        };\n      }\n\n      return {\n        success: false,\n        message: response.msg,\n      };\n    },\n  }\n\n  // https://facebook.github.io/react/docs/typechecking-with-proptypes.html\n  static propTypes = {\n    name: PropTypes.string,\n    defaultFileList: PropTypes.arrayOf(PropTypes.object),\n    fileList: PropTypes.arrayOf(PropTypes.object),\n    action: PropTypes.string,\n    data: PropTypes.object || PropTypes.func,\n    headers: PropTypes.object,\n    showUploadList: PropTypes.bool || PropTypes.object,\n    multiple: PropTypes.bool,\n    accept: PropTypes.string,\n    beforeUpload: PropTypes.func,\n    customRequest: PropTypes.func,\n    onChange: PropTypes.func,\n    listType: PropTypes.oneOf('text', 'picture-card'),\n    onPreview: PropTypes.func,\n    onRemove: PropTypes.func,\n    disabled: PropTypes.bool,\n    withCredentials: PropTypes.bool,\n\n    prefixCls: PropTypes.string,\n    className: PropTypes.string,\n    children: PropTypes.element.isRequired,\n    onResponse: PropTypes.func,\n    // supportServerRender: PropTypes.bool,\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      fileList: this.props.fileList || this.props.defaultFileList || [],\n      dragState: 'drop',\n    };\n  }\n\n  // getLocale() {\n  //   let locale = {};\n  //   if (this.context.antLocale && this.context.antLocale.Upload) {\n  //     locale = this.context.antLocale.Upload;\n  //   }\n  //   return assign({}, defaultLocale, locale, this.props.locale);\n  // }\n\n  componentWillReceiveProps(nextProps) {\n    if ('fileList' in nextProps) {\n      this.setState({\n        fileList: nextProps.fileList || [],\n      });\n    }\n  }\n  onChange = (info) => {\n    if (!('fileList' in this.props)) {\n      this.setState({ fileList: info.fileList });\n    }\n\n    const { onChange } = this.props;\n\n    if (onChange) {\n      onChange(info);\n    }\n  }\n  onStart = (file) => {\n    let targetItem;\n    let nextFileList = this.state.fileList.concat();\n    if (file.length > 0) {\n      targetItem = file.map((f) => {\n        const fileObject = fileToObject(f);\n        fileObject.status = 'uploading';\n        return fileObject;\n      });\n      nextFileList = nextFileList.concat(targetItem);\n    } else {\n      targetItem = fileToObject(file);\n      targetItem.status = 'uploading';\n      nextFileList.push(targetItem);\n    }\n    this.onChange({\n      file: targetItem,\n      fileList: nextFileList,\n    });\n\n    // fix ie progress\n    if (!window.FormData) {\n      this.autoUpdateProgress(0, targetItem);\n    }\n  }\n  // 上传出错时\n  onError = (error, response, file) => {\n    this.clearProgressTimer();\n    const fileList = this.state.fileList;\n    const targetItem = getFileItem(file, fileList);\n    // removed\n    if (!targetItem) {\n      return;\n    }\n    targetItem.error = error;\n    targetItem.response = defaultLocale.uploadError;\n    targetItem.status = 'error';\n    this.onChange({\n      file: { ...targetItem },\n      fileList,\n    });\n  }\n  onFileDrop = (e) => {\n    this.setState({\n      dragState: e.type,\n    });\n  }\n\n  onSuccess = (response, file) => {\n    this.clearProgressTimer();\n    try {\n      if (typeof response === 'string') {\n        response = JSON.parse(response);\n      }\n    } catch (e) { /* do nothing */\n    }\n    const fileList = this.state.fileList;\n    const targetItem = getFileItem(file, fileList);\n\n    // removed\n    if (!targetItem) {\n      return;\n    }\n\n    if (this.props.onResponse) {\n      const resultData = this.props.onResponse(response);\n      if (resultData.success) {\n        targetItem.status = 'done';\n        targetItem.url = resultData.url;\n      } else {\n        targetItem.status = 'error';\n        targetItem.response = resultData.message;\n      }\n    }\n\n    this.onChange({\n      file: { ...targetItem },\n      fileList,\n    });\n  }\n\n  onProgress = (e, file) => {\n    const fileList = this.state.fileList;\n    const targetItem = getFileItem(file, fileList);\n\n    // removed\n    if (!targetItem) {\n      return;\n    }\n    targetItem.percent = e.percent;\n\n    this.onChange({\n      event: e,\n      file: { ...targetItem },\n      fileList: this.state.fileList,\n    });\n  }\n\n  autoUpdateProgress(_, file) {\n    const getPercent = genPercentAdd();\n    let curPercent = 0;\n    this.clearProgressTimer();\n    this.progressTimer = setInterval(() => {\n      curPercent = getPercent(curPercent);\n      this.onProgress({\n        percent: curPercent,\n      }, file);\n    }, 200);\n  }\n\n  handleManualRemove = (file) => {\n    this.upload.abort(file);\n    file.status = 'removed'; // eslint-disable-line\n    this.handleRemove(file);\n  }\n\n  handleRemove(file) {\n    const { onRemove } = this.props;\n\n    Promise.resolve(typeof onRemove === 'function' ? onRemove(file) : onRemove)\n      .then((ret) => {\n        // Prevent removing file\n        if (ret === false) {\n          return;\n        }\n\n        const removedFileList = removeFileItem(file, this.state.fileList);\n        if (removedFileList) {\n          this.onChange({\n            file,\n            fileList: removedFileList,\n          });\n        }\n      });\n  }\n\n  clearProgressTimer() {\n    clearInterval(this.progressTimer);\n  }\n\n  render() {\n    const {\n      prefixCls = '', showUploadList, listType, onPreview,\n      // type,\n      disabled,\n      children,\n      className,\n    } = this.props;\n\n    const rcUploadProps = assign({}, {\n      onStart: this.onStart,\n      onError: this.onError,\n      onProgress: this.onProgress,\n      onSuccess: this.onSuccess,\n    }, this.props);\n\n    delete rcUploadProps.className;\n\n\n    const { showRemoveIcon, showPreviewIcon } = showUploadList;\n    const uploadList = showUploadList ? (\n      <UploadList\n        listType={listType}\n        items={this.state.fileList}\n        onPreview={onPreview}\n        onRemove={this.handleManualRemove}\n        showRemoveIcon={showRemoveIcon}\n        showPreviewIcon={showPreviewIcon}\n        // locale={this.getLocale()}\n        locale={defaultLocale}\n        disabled={disabled}\n      />\n    ) : null;\n\n    /* if (type === 'drag') {\n      const dragCls = classNames(prefixCls, {\n        [`${prefixCls}-drag`]: true,\n        [`${prefixCls}-drag-uploading`]: this.state.fileList.some(file => {\n          return file.status === 'uploading';\n        }),\n        [`${prefixCls}-drag-hover`]: this.state.dragState === 'dragover',\n        [`${prefixCls}-disabled`]: disabled,\n      });\n      return (\n        <span className={className}>\n          <div\n            className={dragCls}\n            onDrop={this.onFileDrop}\n            onDragOver={this.onFileDrop}\n            onDragLeave={this.onFileDrop}\n          >\n            <RcUpload {...rcUploadProps} ref=\"upload\" className={`${prefixCls}-btn`}>\n              <div className={`${prefixCls}-drag-container`}>\n                {children}\n              </div>\n            </RcUpload>\n          </div>\n          {uploadList}\n        </span>\n      );\n    } */\n\n    // const uploadButtonCls = classNames(prefixCls, {\n    //   [`${prefixCls}-select`]: true,\n    //   [`${prefixCls}-select-${listType}`]: true,\n    //   [`${prefixCls}-disabled`]: disabled,\n    // });\n\n    const uploadButton = (\n      <div className={classnames(\n        styles[prefixCls],\n        styles[`${prefixCls}-select`],\n        styles[`${prefixCls}-select-${listType}`],\n        styles[`${children ? '' : 'hide'}`],\n      )}>\n        <RcUpload\n          {...rcUploadProps}\n          ref={(node) => {\n            this.upload = node;\n          }}\n        />\n      </div>\n    );\n\n    if (listType === 'picture-card') {\n      return (\n        <div className={className}>\n          {uploadList}\n          {uploadButton}\n          <div style={{ clear: 'both' }} />\n        </div>\n      );\n    }\n    return (\n      <div className={className}>\n        {uploadButton}\n        {uploadList}\n      </div>\n    );\n  }\n}\n\nexport default Upload;\n"],"names":["define","fileToObject","file","lastModified","lastModifiedDate","filename","name","size","type","uid","response","error","genPercentAdd","k","i","end","f","s","start","getFileItem","fileList","matchKey","filter","item","removeFileItem","removed","length","account","arrowDown","arrowLeft","arrowRight","arrowUp","attachment","car","caution","check","clock","close","code","copy","customise","doubleArrowLeft","doubleArrowRight","ellipsis","fail","finance","home","info","local","paper","plus","question","question2","react","recycle","search","setting","success","theme","triangleDown","triangleUp","upload","visible","warning","ICONS","Icon","props","state","color","className","otherProps","svgProps","classnames","styles","IconNode","React","PureComponent","displayName","defaultProps","propTypes","PropTypes","string","number","oneOf","bool","Line","percent","status","showInfo","lineProps","innerProps","indicator","progress__lineOuter","progress__lineIndicator","Progress","renderProps","previewFile","callback","reader","FileReader","onloadend","result","readAsDataURL","UploadList","handleClose","onRemove","handlePreview","e","onPreview","preventDefault","listType","items","forEach","document","window","File","originFileObj","thumbUrl","undefined","previewDataUrl","forceUpdate","showPreviewIcon","showRemoveIcon","locale","disabled","prefixCls","progress","icon","url","uploading","imgshow","backgroundImage","loadingProgress","progressAttr","message","uploadError","preview","style","previewIcon","eye","removeIcon","removeFile","remove","removeIconCross","actions","iconAndPreview","map","renderListItem","Component","arrayOf","object","func","shape","defaultLocale","Upload","onChange","setState","onStart","targetItem","nextFileList","concat","fileObject","push","FormData","autoUpdateProgress","onError","clearProgressTimer","onFileDrop","onSuccess","JSON","parse","onResponse","resultData","onProgress","handleManualRemove","abort","handleRemove","defaultFileList","nextProps","_","getPercent","curPercent","progressTimer","setInterval","resolve","then","ret","removedFileList","showUploadList","children","rcUploadProps","assign","uploadList","uploadButton","node","clear","msg","element","isRequired"],"mappings":"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"}